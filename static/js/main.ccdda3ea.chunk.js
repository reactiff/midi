(this["webpackJsonp@reactiff/midi-example"]=this["webpackJsonp@reactiff/midi-example"]||[]).push([[0],{117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(10),i=n.n(o),c=n(19),l=n(160),u=n(4),s=n(152),d=n(161),f=(n(29),n(158)),h=n(156),m=n(44),g=n(159),b=n(157),p=a.a.createContext({register:function(e){throw new Error("Event target '"+e.id+" is not running inside a valid MIDI context.  Make sure to place MIDI components inside <MidiProvider> tag")},unregister:function(e){throw new Error("")}});function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var E=Array.from({length:88}).fill(null).reduce((function(e,t,n){var r;return e[n+1]=(r=n+1,13.75*Math.pow(2,(r-9)/12)),e}),{}),C={command:0,note:0,velocity:0,frequency:0,handlerName:"",group:"",name:"",type:"",channel:0,number:0,change:0};function M(e,t){return null===e||void 0===e?t&&t.format?t.format(e):"":t&&t.format?t.format(e):e}function S(e){if(!e)throw new Error;return[M(e.type),M(e.group),M(e.name),M(e.channel,{format:function(e){return e?"ch"+e:""}}),M(e.number)].filter((function(e){return!!e})).join("-")}function x(e,t){var n=t.config.layout||"horizontal";return e.deviceId+"-"+n+"-"+t.id}Object.seal(C);var O=function(){function e(e,t){this.enabled=!0,this.connected=!1,this.sustained={},this.initialized=!1,this.midiMap={fromMidi:{},fromControl:{}};var n=e.name.toLowerCase().replace(/\s/g,"-");this.deviceId=""+n,this.midiContext=t,this.id=Object(l.a)(),e.controllerId=this.id,e.onmidimessage=this.onMIDIMessage.bind(this),this.device=e,this.connected="connected"===e.state}var t=e.prototype;return t.bindEventTarget=function(e){this.eventTarget=e,this.midiMap=function(e,t){if(!t)return{fromMidi:{},fromControl:{}};var n=x(e,t),r=localStorage.getItem(n);if(!r)return{fromMidi:{},fromControl:{}};var a=JSON.parse(r),o=a.revision||0;return(t.config.revision||0)>o?{fromMidi:{},fromControl:{}}:a}(this,e)},t.beginMapping=function(e){var t=this.activeMapping?this.activeMapping.rerender:function(){};this.activeMapping=e,this.activeMapping.rerender(),t()},t.cancelMapping=function(){var e=this.activeMapping?this.activeMapping.rerender:function(){};this.activeMapping=void 0,e()},t.finalizeMapping=function(e){var t=this.activeMapping,n=t.control.channel,r=t.control.number,a=t.control,o=a.group,i=a.type,c=a.name,l=e[0],u=e[1];this.midiMap.fromMidi[l+"-"+u]={type:i,name:c,number:r,channel:n,group:o};var s=S(t.control);this.midiMap.fromControl[s]={command:l,note:u},function(e,t){var n=x(e,t),r=t.config.revision||0;r&&(e.midiMap.revision=r),localStorage.setItem(n,JSON.stringify(e.midiMap))}(this,this.eventTarget);var d=this.activeMapping?this.activeMapping.rerender:function(){};this.activeMapping=void 0,d()},t.getMappedEventData=function(e){if(e)return this.midiMap.fromControl[e]},t.disconnect=function(){delete this.device.onmidimessage,this.connected=!1},t.onMIDIMessage=function(e){if(this.eventTarget&&this.enabled)return this.activeMapping?this.finalizeMapping(e.data):void function(e,t){C.command=t.data[0],C.note=t.data[1],C.velocity=t.data[2];var n=C.command+"-"+C.note,r=e.midiMap.fromMidi[n];if(r)switch(C.frequency=0,C.change=0,C.number=r.number,C.name=r.name,C.type=r.type,C.group=r.group,C.channel=r.channel,r.type){case"selector":C.handlerName="onParameterChange",C.change=C.velocity-64;break;case"pad":C.velocity>0?e.sustained[n]?C.handlerName="onAfterTouch":(e.sustained[n]=!0,C.handlerName="onTouchStart"):(delete e.sustained[n],C.handlerName="onTouchEnd")}else switch(C.group="",C.name="",C.type="",C.channel=0,C.number=0,C.change=0,C.command){case 144:C.velocity>0?C.handlerName="onNoteOn":C.handlerName="onNoteOff",C.frequency=E[C.note];break;case 128:C.frequency=E[C.note],C.handlerName="onNoteOff";break;default:C.handlerName="onUnknownEvent"}var a=e.eventTarget[C.handlerName];a&&a(C)}(this,e)},t.enable=function(e){var t=this;this.midiContext.setControllers((function(n){return n.map((function(n){return n.id===t.id&&(n.enabled=e),n}))}))},e}(),N=function(e){try{return Promise.resolve((t=function(t){var n=!1,r=0,a=e.controllers.map((function(e){if(e.id===t.port.controllerId){n=!0;var a="connected"===t.port.state;e.connected!==a&&(r++,e.connected=a)}return e.connected?e:(delete e.device.onmidimessage,null)})).filter((function(e){return!!e}));n||(console.log("New device found"),a.push(new O(t.port,e)),r++),r>0&&e.setControllers(a)},new Promise((function(e,n){var r=navigator;r.requestMIDIAccess&&r.requestMIDIAccess().then((function(n){for(var r,a=[],o=k(n.inputs.values());!(r=o()).done;){var i=r.value;a.push(i)}t&&(n.onstatechange=t),e(a)}),(function(){return console.log("Could not access your MIDI devices.")}))})))).then((function(t){var n=t.filter((function(e){return"loopMIDI Port"!==e.name})).map((function(t){return new O(t,e)}));e.setControllers(n)}))}catch(n){return Promise.reject(n)}var t};function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B={bgColor:"backgroundColor"};var P={scrollableX:"scrollable scrollable-x",scrollableY:"scrollable scrollable-y",borderBox:"border-box"};function L(e){return Object.assign(e.bag.style,function(e){var t,n,r=Reflect.has(B,e.key)?B[e.key]:e.key;return(t={})[r]=(n=e.value)&&n.hex?n.hex():n,t}(e)),!0}function G(e){var t,n=Reflect.has(P,e.key)?P[e.key]:(t=e.key)?t.replace(/([A-Z]+)/g," $1").trim().split(" ").map((function(e){return e.trim().toLowerCase()})).join("-"):t;return e.bag.classes.push(n),!0}var T={absolute:!0,alignStart:!0,alignCenter:!0,alignEnd:!0,alignStretch:!0,alignBaseline:!0,alignAuto:!0,alignSelfStart:!0,alignSelfCenter:!0,alignSelfEnd:!0,alignSelfStretch:!0,alignSelfBaseline:!0,anchorBottom:!0,anchorLeft:!0,anchorRight:!0,anchorTop:!0,beveled:!0,block:!0,borderBox:!0,centerX:!0,centerXY:!0,centerY:!0,clickable:!0,coverImage:!0,fill:!0,fixed:!0,fullWidth:!0,fullWidthAlways:!0,grow:!0,hidden:!0,horizontal:!0,inline:!0,inlineBlock:!0,justifyStart:!0,justifyCenter:!0,justifyEnd:!0,mobileCenter:!0,mobileColumn:!0,mobileOnly:!0,noBr:!0,noBreak:!0,noMargin:!0,noMobile:!0,noOverflow:!0,noPadding:!0,noSelect:!0,noTransform:!0,noWrap:!0,opaque:!0,overlay:!0,relative:!0,round:!0,rounded:!0,scrollable:!0,scrollableX:!0,scrollableY:!0,shrink:!0,small:!0,smaller:!0,solid:!0,spaced:!0,sticky:!0,tall:!0,translucent:!0,vertical:!0,wide:!0},W={backgroundColor:L,bgColor:L,backgroundImage:L,backgroundRepeat:L,backgroundPosition:L,backgroundSize:L,border:L,borderTop:L,borderRight:L,borderBottom:L,borderLeft:L,borderRadius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomLeftRadius:L,borderBottomRightRadius:L,color:L,cursor:L,dataProps:L,fontSize:L,fontStyle:L,fontWeight:L,innerProps:L,lineHeight:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,minHeight:L,minWidth:L,opacity:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,pseudo:L,textAlign:L,textTransform:L,title:L,width:L,height:L,top:L,right:L,bottom:L,left:L},A=function(e,t){return"function"===typeof e?e(t):e},F=["id","children","style","className","ref","data","pseudo","innerProps","css","onBlur","onClick","onChange","onFocus","onMouseUp","onMouseDown","onMouseMove"],q=["dataProps"];function z(e,t,n){var r=e.id,a=e.children,o=e.style,i=e.className,c=e.ref,l=e.data,d=e.pseudo,f=e.innerProps,h=e.css,m=e.onBlur,g=e.onClick,b=e.onChange,p=e.onFocus,v=e.onMouseUp,y=e.onMouseDown,w=e.onMouseMove,k=I(e,F),E={id:r,children:a,style:o,className:i,ref:c,data:l,pseudo:d,innerProps:f,ownProps:t,css:h,onBlur:m,onClick:g,onChange:b,onFocus:p,onMouseUp:v,onMouseDown:y,onMouseMove:w},C=[],M=Object.keys(k),S={style:j({},h,o),classes:[]};M.forEach((function(t){if(!Reflect.has(E,t)){var n=e[t];if(Reflect.has(T,t))return G({bag:S,key:t,value:n,debug:!1}),void C.push(t);if(Reflect.has(W,t))return W[t]({bag:S,key:t,value:n}),void C.push(t);!0===n&&G({bag:S,key:t,value:n,debug:!1})}}));var x=j({},k);C.forEach((function(e){delete x[e]}));for(var O=Object.keys(e.pseudo||{}).reduce((function(t,n){var r,a=e.pseudo[n],o="&"===n[0]?n:"& :"+n;return Object.assign(t,((r={})[o]=a,r))}),{}),N=Object(s.a)((function(){var e={};return Object.keys(S.style).length&&(e.bag=S.style),Object.keys(O).length&&(e.pseudo=O),e}))(),R={onBlur:m,onClick:g,onChange:b,onFocus:p,onMouseUp:v,onMouseDown:y,onMouseMove:w},D=e.dataProps,B=I(e,q),P=arguments.length,L=new Array(P>3?P-3:0),A=3;A<P;A++)L[A-3]=arguments[A];var z={root:{className:Object(u.a)(i,L,n,S.classes,N.bag,N.pseudo)},props:j({},x,E),attr:B,data:D,events:R};return z}var H=["children"],K=function(e){var t=e.children,n=z(I(e,H),null,"","flex column"),r=n.root,o=n.data,i=n.events;return a.a.createElement("div",j({},o,{className:r.className},i),t)},Y=["children"],U=function(e){var t=e.children,n=z(I(e,Y),null),r=n.root,o=n.data,i=n.events;return a.a.createElement("div",j({},o,{className:r.className},i),t)},_=["children"],V=function(e){var t=e.children,n=z(I(e,_),null,"","flex row"),r=n.root,o=n.data,i=n.events;return a.a.createElement("div",j({},o,{className:r.className},i),t)},J=(Object(s.a)({root:{maxWidth:345},media:{height:140}}),["children"]),X=["children"],$=["children"],Z=function(e){var t=e.children,n=z(I(e,X),null,"Row","flex row"),r=n.root,o=n.data,i=n.events;return a.a.createElement("div",j({},o,{className:r.className},i),t)},Q=function(e){var t=e.children,n=z(I(e,$),null,"Col","flex column"),r=n.root,o=n.data,i=n.events;return a.a.createElement("div",j({},o,{className:r.className},i),t)},ee={__proto__:null,div:function(e){var t=e.children,n=z(I(e,J),null),r=n.root,o=n.data,i=n.events;return a.a.createElement("div",j({},o,{className:r.className},i),t)},row:Z,col:Q};a.a.forwardRef((function(e,t){return a.a.createElement(h.a,j({direction:"down",ref:t},e))}));var te={angle:90};function ne(e){return"string"===typeof e?function(e){var t=e.split(" ");if(1===t.length)return{color:t[0],parts:1};if(2===t.length)return{color:t[0],parts:+t[1]};throw new Error("Max number of color tokens expected is 2")}(e):e}function re(e){return function(e){for(var t=e.angle,n=e.colors?e.colors.map((function(e){return ne(e)})):null,r=2*n.reduce((function(e,t){return+e+t.parts}),0),a=100/r,o=n.length,i=2*o,c=[],l=0,u=0;u<i;u++){var s=u%o,d=(u+1)%o;l+=a*n[s].parts,c.push(n[s].color+" "+l.toFixed(2)+"%"),u<i-1&&c.push(n[d].color+" "+l.toFixed(2)+"%")}var f=e.size||r;return{backgroundImage:"linear-gradient("+t+"deg, "+c.join(", ")+")",backgroundSize:Object(m.isNumber)(f)?f.toFixed(2)+"px "+f.toFixed(2)+"px":f}}(j({},te,e))}function ae(e){return{backgroundImage:(Array.isArray(e)?e:[e]).map((function(e){var t=e.colors.map((function(e){return function(e){var t;return"string"===typeof e?function(e){var t=e.split(" ");if(t.length>2)throw new Error("Due to current limitation of this function, colors should be canonical without any spaces, e.g.: rgb(255,128,0,0.8) 75% is a valid color and stop pair.");return t}(e):[e.color,null===(t=e.percentage)||void 0===t?void 0:t.toString()]}(e)}));return(e.repeat?"repeating-linear-gradient":"linear-gradient")+"("+e.angle+"deg, "+t.map((function(e){return e.join(" ")})).join(", ")+")"})).join(", ")}}var oe={xOffset:0,yOffset:0,blur:5,spread:0,rgba:{r:0,g:0,b:0,a:.75}},ie=function(e){var t=j({},oe,e),n=e.rgba?"rgba("+t.rgba.r+", "+t.rgba.g+", "+t.rgba.b+", "+t.rgba.a+")":e.hex,r=(e.inset?"inset ":"")+(t.xOffset+"px ")+t.yOffset+"px "+t.blur+"px "+t.spread+"px "+n;return{"-webkit-box-shadow":r,"-moz-box-shadow":r,"box-shadow":r}},ce="object"===typeof window,le={xs:1,sm:2,md:3,lg:4,xl:5,xxl:6,xxxl:7},ue={bootstrap:[[1600,"xxxl"],[1400,"xxl"],[1200,"xl"],[992,"lg"],[768,"md"],[576,"sm"]],material:[[1920,"xl"],[1280,"lg"],[960,"md"],[600,"sm"]]},se=function(e){if(!ce)return"xs";for(var t,n=D(ue[e]);!(t=n()).done;){var r=t.value;if(window.innerWidth>=r[0])return r[1]}return"xs"},de=function(e){return{code:e,value:le[e]}};function fe(){return window.innerHeight}function he(){return window.innerWidth}var me=function(){return document.body.scrollTop||document.documentElement.scrollTop};function ge(e,t,n,r,a){if(ce){var o=function(){var n=r();(a||function(e,t){return e===t})(e.value,n)||(e.value=n,e.ticking||(window.requestAnimationFrame((function(){t(e.value),e.ticking=!1})),e.ticking=!0))};return window.addEventListener(n,o),function(){return window.removeEventListener(n,o)}}}j({},ee,{__proto__:null,createStripes:re,createLinearGradient:function(e){return ae(e)},createBoxShadow:ie,useGridSize:function(e){var t=Object(r.useRef)({value:"xs",ticking:!1}).current,n=Object(r.useState)((function(){return de(se(e))})),a=n[0],o=n[1];return Object(r.useEffect)((function(){return ge(t,(function(e){return o(de(e))}),"resize",(function(){return se(e)}))}),[]),a},useWindowWidth:function(){var e=Object(r.useRef)({value:0,ticking:!1}).current,t=Object(r.useState)((function(){return ce?he():0})),n=t[0],a=t[1];return Object(r.useEffect)((function(){return ge(e,a,"resize",he)}),[e]),n},useWindowHeight:function(){var e=Object(r.useRef)({value:0,ticking:!1}).current,t=Object(r.useState)((function(){return ce?fe():0})),n=t[0],a=t[1];return Object(r.useEffect)((function(){return ge(e,a,"resize",fe)}),[e]),n},useWindowSize:function(){var e=Object(r.useRef)({value:{width:0,height:0},ticking:!1}).current,t=Object(r.useState)((function(){return ce?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}})),n=t[0],a=t[1];return Object(r.useEffect)((function(){return ge(e,a,"resize",(function(){return{width:window.innerWidth,height:window.innerHeight}}),(function(e,t){return e.width===t.width&&e.height===t.height}))}),[e]),n},useScrollPosition:function(){var e=Object(r.useRef)({value:0,ticking:!1}).current,t=Object(r.useState)((function(){return ce?me():0})),n=t[0],a=t[1];return Object(r.useEffect)((function(){return ge(e,a,"scroll",me)}),[e]),n}});var be=["id","onChange","activeKey","variant","orientation","centered","items","keyForItem","elementForItem"];function pe(e){var t=e.children,n=e.active,a=e.value,o=e.id;return Object(r.createElement)("div",{role:"tabpanel",hidden:!n,id:o+"-"+a,"aria-labelledby":o+"-"+a},t||Object(r.createElement)("div",null,"No content"))}var ve=function(e){var t,n,a=e.onChange,o=e.activeKey,i=e.items,c=e.keyForItem,l=e.elementForItem,f=z(I(e,be),null,"ui-tabs"),h=f.root,m=f.props,p=i.map((function(e){if(!c)switch(typeof e){case"string":return e;case"number":return e.toString();default:throw new Error("Invalid key")}return c(e)})),v=Object(r.useState)((function(){return o})),y=v[0],w=v[1],k=(t=function(){return{minWidth:"unset!important",minHeight:"unset!important"}},n=[],Object(r.useMemo)((function(){return Object(s.a)((function(){return Object(d.a)(j({},A(t)))}))}),[t,n]))();if(!p.length)return null;var E=Object(r.createElement)(g.a,{orientation:e.orientation,value:y||p[0],onChange:function(e,t){w(t),a&&a(t)},"aria-label":"tabs with "+p.length+" panels"},p.map((function(e){var t,n=(t=e)?t.replace(/([A-Z]+|[0-9]+)/g," $1").trim().split(" ").filter((function(e){return e&&e.length})).map((function(e){var t=e.trim();return t[0].toUpperCase()+t.substring(1)})).join(" "):t;return Object(r.createElement)(b.a,{key:e,label:n,value:e})}))),C=i.map((function(e,t){var n=p[t],a="undefined"===typeof y&&0===t||y===n;return Object(r.createElement)(pe,{key:n,active:a,value:n,id:m.id||"global"},l(e,a))})),M=Object(r.createElement)(Z,{wide:!0},p.length>1&&Object(r.createElement)(Q,null,E),Object(r.createElement)(Q,{grow:!0},C)),S=Object(r.createElement)(r.Fragment,null,p.length>1&&E,C),x="vertical"===e.orientation;return Object(r.createElement)("div",{className:Object(u.a)("root",h,k)},x&&M,!x&&S)},ye=["size","children"],we=function(e){var t=z(I(e,ye),null),n=t.root,r=t.data,o=t.events;return n.className?a.a.createElement("div",j({},r,{className:n.className},o),A(e.children)):A(e.children)};function ke(e){var t=S(e.control),n=e.controller.activeMapping,o=function(){return!!n&&t===S(n&&n.control)},i=Object(r.useState)(0)[1],c=Object(r.useCallback)((function(){return i((function(e){return e+1}))}),[]),l=v({},e,{rerender:c}),u=!!e.controller.getMappedEventData(t),s={width:60,height:60,padding:0,borderRadius:"3px",cursor:"pointer",backgroundColor:u?"#16c793":"#000000"},d={width:58,height:58,borderRadius:"3px",borderColor:"#000",backgroundColor:u?"#08251c":"#777777",fontSize:"0.55rem"};return o()&&(d.backgroundColor=u?"#00ffff":"#0055ff",d.color="#000"),a.a.createElement(K,{alignCenter:!0},a.a.createElement(U,{className:"center-xy",css:s,onClick:function(){o()?e.controller.cancelMapping():e.controller.beginMapping(l)}},a.a.createElement(U,{css:d,className:"center-xy"},a.a.createElement("span",null,e.control.name))))}var Ee=function(e){var t=S(e.control),n=e.controller.activeMapping,o=function(){return!!n&&t===S(n.control)},i=Object(r.useState)(0)[1],c=Object(r.useCallback)((function(){return i((function(e){return e+1}))}),[]),l=v({},e,{rerender:c}),u=!!e.controller.getMappedEventData(t),s={width:60,height:60,padding:1,borderRadius:"50%",cursor:"pointer",backgroundColor:u?"#16c793":"#000000"},d={width:58,height:58,borderRadius:"50%",borderColor:"#000",backgroundColor:u?"#08251c":"#777777",fontSize:"0.55rem"};return o()&&(d.backgroundColor=u?"#00ffff":"#0055ff",d.color="#000"),a.a.createElement(K,{alignCenter:!0},a.a.createElement(U,{className:"center-xy",css:s,onClick:function(){o()?e.controller.cancelMapping():e.controller.beginMapping(l)}},a.a.createElement(U,{css:d,className:"center-xy"},a.a.createElement("span",null,e.control.name))))},Ce=function(e){var t=e.scope;return a.a.createElement(V,null,t.channelNumbers.map((function(e,n){return a.a.createElement(K,{key:"ch"+e,spaced:!0,alignCenter:!0,padding:"0 5px"},t.channelControls.map((function(n,r){return"pad"===n.type?a.a.createElement(ke,{key:r,channel:e,control:n,controller:t.controller}):a.a.createElement(Ee,{key:r,channel:e,control:n,controller:t.controller})})),e>0&&a.a.createElement(U,{grow:!0,fontSize:"0.875rem"},"CH ",e))})))},Me=function(e){var t=e.scope,n=t.controller,r=t.config.rows;return a.a.createElement(K,null,r.map((function(e,t){var r=e,o=null;return a.a.createElement(V,{key:"row"+t,spaced:!0,alignCenter:!0,padding:"0 5px"},r.map((function(e,t){var r=e.group&&e.group!==o?e.group:null;return o=e.group,a.a.createElement(K,{key:t},a.a.createElement(U,{css:{height:20}},r),"pad"===e.type?a.a.createElement(ke,{key:t,control:e,controller:n}):a.a.createElement(Ee,{key:t,control:e,controller:n}))})))})))},Se=function(e){var t=e.controller,n=a.a.useContext(p).getEventTarget(),r=n.config,o="inverted"===r.flowDirection,i=Array.from({length:r.channels||0},(function(e,t){return t+1})),c=r.globalGroups?function(){return a.a.createElement(V,{marginLeft:15,marginRight:15},r.globalGroups.map((function(e,o){return a.a.createElement(Ce,{key:o,scope:{annotation:"from globalGroups (see data)",data:r.globalGroups,eventHandler:n,controller:t,channelNumbers:[0],channelControls:e}})})))}:function(){return null};return a.a.createElement(K,null,a.a.createElement(we,{fontSize:"0.7rem",color:"white",padding:"5px 0 30px 0",textAlign:"right"},t.device.name),a.a.createElement(V,null,!o&&a.a.createElement(c,null),r.channels&&a.a.createElement(Ce,{scope:{eventHandler:n,controller:t,channelNumbers:i,channelControls:r.channelControls}}),r.rows&&a.a.createElement(Me,{scope:{eventHandler:n,controller:t,config:r}}),o&&a.a.createElement(c,null)))},xe=function(e){var t=a.a.useContext(p).getEventTarget().config,n=t.layout||"horizontal";return"inverted"===t.flowDirection&&(t.channelControls&&t.channelControls.reverse(),t.globalGroups&&t.globalGroups.forEach((function(e){return e.reverse()}))),a.a.createElement(a.a.Fragment,null,"horizontal"===n&&a.a.createElement(Se,{controller:e.controller}),"vertical"===n&&Object(r.createElement)("VerticalStack",e))},Oe=re({angle:135,colors:["#00000088","#00000099"],size:20}),Ne={boxShadow:ie({blur:30,hex:"#00ff0022"})["box-shadow"],backgroundColor:"#282c34",border:"1px solid #88ff8833"},je=function(){var e=Object(r.useContext)(p);return a.a.createElement(K,{fixed:!0,fill:!0,justifyCenter:!0,alignCenter:!0,css:Oe},a.a.createElement(U,{relative:!0,css:Ne},a.a.createElement(we,{fontSize:"2em",color:"white",bgColor:"#111111dd",padding:"15px 15px 5px 15px"},"MIDI mappings"),a.a.createElement(U,{padding:"15px 15px 15px 15px"},a.a.createElement(ve,{items:e.controllers,keyForItem:function(e){return e.device.name},elementForItem:function(e,t){return t?a.a.createElement(xe,{controller:e}):null}}))))},Ie=function(e){var t=a.a.useContext(p),n=Object(r.useCallback)((function(){return t.toggleSettings(!1)}),[]),o=Object(r.useCallback)((function(e){return 27===e.keyCode&&n()}),[]);return Object(r.useEffect)((function(){return document.addEventListener("keydown",o,!1),function(){return document.removeEventListener("keydown",o,!1)}}),[]),t.settingsOpen?0===t.controllers.length?null:a.a.createElement(je,null):null},Re=function(e){var t=Object(r.useState)([]),n=t[0],o=t[1],i=Object(r.useState)(!1),c=i[0],l=i[1],u=Object(r.useRef)({targetMap:{},targetStack:[]}).current,s=function(e,t){var n=t||d.getEventTarget();e.forEach((function(e){return e.bindEventTarget(n)}))},d={settingsOpen:c,toggleSettings:function(e){l(e)},controllers:n,setControllers:function(e){s(e),o(e)},getEventTarget:function(){if(u.targetStack.length)return u.targetStack[u.targetStack.length-1]},register:function(e){if(u.targetMap[e.id])throw new Error("Target already registered");return u.targetStack.push(e),u.targetMap[e.id]=e,s(n,e),function(){d.unregister(e)}},unregister:function(e){var t=d.getEventTarget();if(!t)throw new Error("Nothing to pop");if(t.id!==e.id)throw new Error("Target is not on top of the stack");u.targetStack.pop(),delete u.targetMap[e.id],s(n)}};return Object(r.useEffect)((function(){return N(d),function(){n.forEach((function(e){return e.disconnect()}))}}),[]),a.a.createElement(p.Provider,{value:d},e.children,a.a.createElement(Ie,null))},De=function(e){var t=a.a.useContext(p);return a.a.createElement("button",{style:{backgroundColor:"transparent",border:"2px solid yellowgreen",borderRadius:3,color:"yellowgreen",cursor:"pointer"},onClick:function(){return t.toggleSettings(!0)}},"MIDI")},Be=function(){function e(){this.ticking=!1}return e.prototype.invokeWithAnimationFrame=function(e){this.nextCallback=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.lastKnownParams=n,!this.ticking){var a=this,o=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];a.ticking=!0,a.nextCallback=void 0,a.lastKnownParams=void 0,window.requestAnimationFrame((function(){t.apply(void 0,r),a.ticking=!1,a.nextCallback&&e.apply(void 0,[a.nextCallback].concat(a.lastKnownParams))}))};o.apply(void 0,[this.nextCallback].concat(this.lastKnownParams))}},e}(),Pe=function(){function e(e){var t="object"===typeof e?e:function(e){var t,n,r,a,o,i,c,l,u,s,d,f=[],h=[],m=[];e=e.trim().toLowerCase(),t=e.substr(0,1).toUpperCase(),n=e.substr(1),l=1,"R"!=t&&"Y"!=t&&"G"!=t&&"C"!=t&&"B"!=t&&"M"!=t&&"W"!=t||isNaN(n)||6==e.length&&-1==e.indexOf(",")||(e="ncol("+e+")");3==e.length||6==e.length||isNaN(e)||(e="ncol("+e+")");e.indexOf(",")>0&&-1==e.indexOf("(")&&(e="ncol("+e+")");if("rgb"==e.substr(0,3)||"hsl"==e.substr(0,3)||"hwb"==e.substr(0,3)||"ncol"==e.substr(0,4)||"cmyk"==e.substr(0,4)){if("ncol"==e.substr(0,4)?(4==e.split(",").length&&-1==e.indexOf("ncola")&&(e=e.replace("ncol","ncola")),r="ncol",e=e.substr(4)):"cmyk"==e.substr(0,4)?(r="cmyk",e=e.substr(4)):(r=e.substr(0,3),e=e.substr(3)),a=3,i=!1,"a"==e.substr(0,1).toLowerCase()?(a=4,i=!0,e=e.substr(1)):"cmyk"==r&&(a=4,5==e.split(",").length&&(a=5,i=!0)),e=(e=e.replace("(","")).replace(")",""),f=e.split(","),"rgb"==r){if(f.length!=a)return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};for(o=0;o<a;o++){if(""!=f[o]&&" "!=f[o]||(f[o]="0"),f[o].indexOf("%")>-1&&(f[o]=f[o].replace("%",""),f[o]=Number(f[o]/100),o<3&&(f[o]=Math.round(255*f[o]))),isNaN(f[o]))return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};parseInt(f[o])>255&&(f[o]=255),o<3&&(f[o]=parseInt(f[o])),3==o&&Number(f[o])>1&&(f[o]=1)}d={r:f[0],g:f[1],b:f[2]},1==i&&(l=Number(f[3]))}if("hsl"==r||"hwb"==r||"ncol"==r){for(;f.length<a;)f.push("0");for("hsl"!=r&&"hwb"!=r||parseInt(f[0])>=360&&(f[0]=0),o=1;o<a;o++){if(f[o].indexOf("%")>-1){if(f[o]=f[o].replace("%",""),f[o]=Number(f[o]),isNaN(f[o]))return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};f[o]=f[o]/100}else f[o]=Number(f[o]);Number(f[o])>1&&(f[o]=1),Number(f[o])<0&&(f[o]=0)}"hsl"==r&&(d=Te(f[0],f[1],f[2]),u=Number(f[0]),s=Number(f[1])),"hwb"==r&&(d=Ae(f[0],f[1],f[2])),"ncol"==r&&(d=function(e,t,n){var r,a,o;if(o=e,isNaN(e.substr(0,1))){if(r=e.substr(0,1).toUpperCase(),""==(a=e.substr(1))&&(a=0),a=Number(a),isNaN(a))return!1;"R"==r&&(o=0+.6*a),"Y"==r&&(o=60+.6*a),"G"==r&&(o=120+.6*a),"C"==r&&(o=180+.6*a),"B"==r&&(o=240+.6*a),"M"==r&&(o=300+.6*a),"W"==r&&(o=0,t=1-a/100,n=a/100)}return Ae(o,t,n)}(f[0],f[1],f[2])),1==i&&(l=Number(f[3]))}if("cmyk"==r){for(;f.length<a;)f.push("0");for(o=0;o<a;o++){if(f[o].indexOf("%")>-1){if(f[o]=f[o].replace("%",""),f[o]=Number(f[o]),isNaN(f[o]))return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};f[o]=f[o]/100}else f[o]=Number(f[o]);Number(f[o])>1&&(f[o]=1),Number(f[o])<0&&(f[o]=0)}d=function(e,t,n,r){var a,o,i;return a=255-255*Math.min(1,e*(1-r)+r),o=255-255*Math.min(1,t*(1-r)+r),i=255-255*Math.min(1,n*(1-r)+r),{r:a,g:o,b:i}}(f[0],f[1],f[2],f[3]),1==i&&(l=Number(f[4]))}}else if("ncs"==e.substr(0,3))d=function(e){var t,n,r,a,o,i,c,l,u,s,d,f,h,m,g,b,p;-1==(e=(e=(e=(e=(e=e.trim().toUpperCase()).replace("(","")).replace(")","")).replace("NCS","NCS ")).replace(/  /g," ")).indexOf("NCS")&&(e="NCS "+e);if(null===(e=e.match(/^(?:NCS|NCS\sS)\s(\d{2})(\d{2})-(N|[A-Z])(\d{2})?([A-Z])?$/)))return!1;if(t=parseInt(e[1],10),n=parseInt(e[2],10),"N"!=(r=e[3])&&"Y"!=r&&"R"!=r&&"B"!=r&&"G"!=r)return!1;if(a=parseInt(e[4],10)||0,"N"!==r){var v;o=1.05*t-5.25,i=n,"Y"===r&&a<=60?u=1:"Y"===r&&a>60||"R"===r&&a<=80?(c="Y"===r?a-60:a+40,u=(Math.sqrt(14884-Math.pow(c,2))-22)/100):"R"===r&&a>80||"B"===r?u=0:"G"===r&&(c=a-170,u=(Math.sqrt(33800-Math.pow(c,2))-70)/100),"Y"===r&&a<=80?l=0:"Y"===r&&a>80||"R"===r&&a<=60?(c="Y"===r?a-80+20.5:a+20+20.5,l=(104-Math.sqrt(11236-Math.pow(c,2)))/100):"R"===r&&a>60||"B"===r&&a<=80?(c="R"===r?a-60-60:a+40-60,l=(Math.sqrt(1e4-Math.pow(c,2))-10)/100):"B"===r&&a>80||"G"===r&&a<=40?(c="B"===r?a-80-131:a+20-131,l=(122-Math.sqrt(19881-Math.pow(c,2)))/100):"G"===r&&a>40&&(l=0),"Y"===r?v=(85-.85*a)/100:"R"===r&&a<=60?v=0:"R"===r&&a>60?(c=a-60+35,v=(67.5-Math.sqrt(5776-Math.pow(c,2)))/100):"B"===r&&a<=60?(c=1*a-68.5,v=(6.5+Math.sqrt(7044.5-Math.pow(c,2)))/100):"B"===r&&a>60||"G"===r&&a<=60?v=.9:"G"===r&&a>60&&(v=(90-1/8*(c=a-60))/100),f=((c=(u+v+l)/3)-l)*(100-i)/100+l,h=1/((s=(c-u)*(100-i)/100+u)>(d=(c-v)*(100-i)/100+v)&&s>f?s:d>s&&d>f?d:f>s&&f>d?f:(s+d+f)/3),g=parseInt(s*h*(100-o)/100*255,10),b=parseInt(d*h*(100-o)/100*255,10),p=parseInt(f*h*(100-o)/100*255,10),g>255&&(g=255),b>255&&(b=255),p>255&&(p=255),g<0&&(g=0),b<0&&(b=0),p<0&&(p=0)}else(m=parseInt(255*(1-t/100),10))>255&&(m=255),m<0&&(m=0),g=m,b=m,p=m;return{r:g,g:b,b:p}}(e);else{for(c=!1,h=Ge("names"),o=0;o<h.length;o++)if(e.toLowerCase()==h[o].toLowerCase()){m=Ge("hexs"),c=!0,d={r:parseInt(m[o].substr(0,2),16),g:parseInt(m[o].substr(2,2),16),b:parseInt(m[o].substr(4,2),16)};break}if(0==c){for(3==(e=e.replace("#","")).length&&(e=e.substr(0,1)+e.substr(0,1)+e.substr(1,1)+e.substr(1,1)+e.substr(2,1)+e.substr(2,1)),o=0;o<e.length;o++)if(!qe(e.substr(o,1)))return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};for(f[0]=parseInt(e.substr(0,2),16),f[1]=parseInt(e.substr(2,2),16),f[2]=parseInt(e.substr(4,2),16),o=0;o<3;o++)if(isNaN(f[o]))return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1};d={r:f[0],g:f[1],b:f[2]}}}return Le(d,l,u,s)}(e);Object.assign(this,t)}var t=e.prototype;return t.toRgbString=function(){return"rgb("+this.red+", "+this.green+", "+this.blue+")"},t.toRgbaString=function(){return"rgba("+this.red+", "+this.green+", "+this.blue+", "+this.opacity+")"},t.toHwbString=function(){return"hwb("+this.hue+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%)"},t.toHwbStringDecimal=function(){return"hwb("+this.hue+", "+this.whiteness+", "+this.blackness+")"},t.toHwbaString=function(){return"hwba("+this.hue+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%, "+this.opacity+")"},t.toHslString=function(){return"hsl("+this.hue+", "+Math.round(100*this.sat)+"%, "+Math.round(100*this.lightness)+"%)"},t.toHslStringDecimal=function(){return"hsl("+this.hue+", "+this.sat+", "+this.lightness+")"},t.toHslaString=function(){return"hsla("+this.hue+", "+Math.round(100*this.sat)+"%, "+Math.round(100*this.lightness)+"%, "+this.opacity+")"},t.toCmykString=function(){return"cmyk("+Math.round(100*this.cyan)+"%, "+Math.round(100*this.magenta)+"%, "+Math.round(100*this.yellow)+"%, "+Math.round(100*this.black)+"%)"},t.toCmykStringDecimal=function(){return"cmyk("+this.cyan+", "+this.magenta+", "+this.yellow+", "+this.black+")"},t.toNcolString=function(){return this.ncol+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%"},t.toNcolStringDecimal=function(){return this.ncol+", "+this.whiteness+", "+this.blackness},t.toNcolaString=function(){return this.ncol+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%, "+this.opacity},t.toName=function(){for(var e,t,n,r=Ge("hexs"),a=0;a<r.length;a++)if(e=parseInt(r[a].substr(0,2),16),t=parseInt(r[a].substr(2,2),16),n=parseInt(r[a].substr(4,2),16),this.red===e&&this.green===t&&this.blue===n)return Ge("names")[a];return""},t.toHexString=function(){return"#"+Fe(this.red)+Fe(this.green)+Fe(this.blue)+Fe(255*this.opacity)},t.toRgb=function(){return{r:this.red,g:this.green,b:this.blue,a:this.opacity}},t.toHsl=function(){return{h:this.hue,s:this.sat,l:this.lightness,a:this.opacity}},t.toHwb=function(){return{h:this.hue,w:this.whiteness,b:this.blackness,a:this.opacity}},t.toCmyk=function(){return{c:this.cyan,m:this.magenta,y:this.yellow,k:this.black,a:this.opacity}},t.toNcol=function(){return{ncol:this.ncol,w:this.whiteness,b:this.blackness,a:this.opacity}},t.isDark=function(e){var t=e||128;return(299*this.red+587*this.green+114*this.blue)/1e3<t},t.saturate=function(t){var n=t/100||.1;return this.sat+=n,this.sat>1&&(this.sat=1),new e(Le(Te(this.hue,this.sat,this.lightness),this.opacity,this.hue,this.sat))},t.desaturate=function(t){var n=t/100||.1;return this.sat-=n,this.sat<0&&(this.sat=0),new e(Le(Te(this.hue,this.sat,this.lightness),this.opacity,this.hue,this.sat))},t.lighter=function(t){var n=t/100||.1;return this.lightness+=n,this.lightness>1&&(this.lightness=1),new e(Le(Te(this.hue,this.sat,this.lightness),this.opacity,this.hue,this.sat))},t.darker=function(t){var n=t/100||.1;return this.lightness-=n,this.lightness<0&&(this.lightness=0),new e(Le(Te(this.hue,this.sat,this.lightness),this.opacity,this.hue,this.sat))},e}();function Le(e,t,n,r){var a,o,i,c,l,u,s,d;return e?(null===t&&(t=1),a=function(e,t,n){var r,a,o,i,c,l,u,s=[];for(s[0]=e/255,s[1]=t/255,s[2]=n/255,r=s[0],a=s[0],l=0,o=0;o<s.length-1;o++)s[o+1]<=r&&(r=s[o+1]),s[o+1]>=a&&(a=s[o+1],l=o+1);0==l&&(u=(s[1]-s[2])/(a-r));1==l&&(u=2+(s[2]-s[0])/(a-r));2==l&&(u=4+(s[0]-s[1])/(a-r));isNaN(u)&&(u=0);(u*=60)<0&&(u+=360);i=(r+a)/2,c=r==a?0:i<.5?(a-r)/(a+r):(a-r)/(2-a-r);return{h:u,s:c=c,l:i}}(e.r,e.g,e.b),o=function(e,t,n){var r;e/=255,t/=255,n/=255;var a=Math.max(e,t,n),o=Math.min(e,t,n),i=a-o;r=0==i?0:e==a?(t-n)/i%6*360:t==a?((n-e)/i+2)%6*360:((e-t)/i+4)%6*360;return{h:r,w:o,b:1-a}}(e.r,e.g,e.b),i=function(e,t,n){var r,a,o,i;e/=255,t/=255,n/=255;var c=Math.max(e,t,n);1==(i=1-c)?(r=0,a=0,o=0):(r=(1-e-i)/(1-i),a=(1-t-i)/(1-i),o=(1-n-i)/(1-i));return{c:r,m:a,y:o,k:i}}(e.r,e.g,e.b),u=n||a.h,s=r||a.s,c=function(e){for(;e>=360;)e-=360;if(e<60)return"R"+e/.6;if(e<120)return"Y"+(e-60)/.6;if(e<180)return"G"+(e-120)/.6;if(e<240)return"C"+(e-180)/.6;if(e<300)return"B"+(e-240)/.6;if(e<360)return"M"+(e-300)/.6}(u),l={red:e.r,green:e.g,blue:e.b,hue:u,sat:s,lightness:a.l,whiteness:o.w,blackness:o.b,cyan:i.c,magenta:i.m,yellow:i.y,black:i.k,ncol:c,opacity:t,valid:!0},(d=l).red=Number(d.red.toFixed(0)),d.green=Number(d.green.toFixed(0)),d.blue=Number(d.blue.toFixed(0)),d.hue=Number(d.hue.toFixed(0)),d.sat=Number(d.sat.toFixed(2)),d.lightness=Number(d.lightness.toFixed(2)),d.whiteness=Number(d.whiteness.toFixed(2)),d.blackness=Number(d.blackness.toFixed(2)),d.cyan=Number(d.cyan.toFixed(2)),d.magenta=Number(d.magenta.toFixed(2)),d.yellow=Number(d.yellow.toFixed(2)),d.black=Number(d.black.toFixed(2)),d.ncol=d.ncol.substr(0,1)+Math.round(Number(d.ncol.substr(1))),d.opacity=Number(d.opacity.toFixed(2)),l=d):{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1}}function Ge(e){return"names"==e?["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"]:"hexs"==e?["f0f8ff","faebd7","00ffff","7fffd4","f0ffff","f5f5dc","ffe4c4","000000","ffebcd","0000ff","8a2be2","a52a2a","deb887","5f9ea0","7fff00","d2691e","ff7f50","6495ed","fff8dc","dc143c","00ffff","00008b","008b8b","b8860b","a9a9a9","a9a9a9","006400","bdb76b","8b008b","556b2f","ff8c00","9932cc","8b0000","e9967a","8fbc8f","483d8b","2f4f4f","2f4f4f","00ced1","9400d3","ff1493","00bfff","696969","696969","1e90ff","b22222","fffaf0","228b22","ff00ff","dcdcdc","f8f8ff","ffd700","daa520","808080","808080","008000","adff2f","f0fff0","ff69b4","cd5c5c","4b0082","fffff0","f0e68c","e6e6fa","fff0f5","7cfc00","fffacd","add8e6","f08080","e0ffff","fafad2","d3d3d3","d3d3d3","90ee90","ffb6c1","ffa07a","20b2aa","87cefa","778899","778899","b0c4de","ffffe0","00ff00","32cd32","faf0e6","ff00ff","800000","66cdaa","0000cd","ba55d3","9370db","3cb371","7b68ee","00fa9a","48d1cc","c71585","191970","f5fffa","ffe4e1","ffe4b5","ffdead","000080","fdf5e6","808000","6b8e23","ffa500","ff4500","da70d6","eee8aa","98fb98","afeeee","db7093","ffefd5","ffdab9","cd853f","ffc0cb","dda0dd","b0e0e6","800080","663399","ff0000","bc8f8f","4169e1","8b4513","fa8072","f4a460","2e8b57","fff5ee","a0522d","c0c0c0","87ceeb","6a5acd","708090","708090","fffafa","00ff7f","4682b4","d2b48c","008080","d8bfd8","ff6347","40e0d0","ee82ee","f5deb3","ffffff","f5f5f5","ffff00","9acd32"]:void 0}function Te(e,t,n){var r,a;return{r:255*We(r=2*n-(a=n<=.5?n*(t+1):n+t-n*t),a,(e/=60)+2),g:255*We(r,a,e),b:255*We(r,a,e-2)}}function We(e,t,n){return n<0&&(n+=6),n>=6&&(n-=6),n<1?(t-e)*n+e:n<3?t:n<4?(t-e)*(4-n)+e:e}function Ae(e,t,n){var r,a,o,i=[];for(a=Te(e,1,.5),i[0]=a.r/255,i[1]=a.g/255,i[2]=a.b/255,(o=t+n)>1&&(t=Number((t/o).toFixed(2)),n=Number((n/o).toFixed(2))),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t,i[r]=Number(255*i[r]);return{r:i[0],g:i[1],b:i[2]}}function Fe(e){return Math.round(e).toString(16).padStart(2,"0")}function qe(e){return"0123456789ABCDEFabcdef".indexOf(e)>-1}var ze=function(e,t){var n=function(e,t,n){return e?t>=e.length?n:e[t]:n},r=function(){var r=function(e){switch(e.group){case"rgba":return{name:"rgba",factor:[1,1,1,.01],min:[0,0,0,0],max:[255,255,255,1],decimalPlaces:[0,0,0,2]};case"cmyk":return{name:"cmyk",factor:[.01,.01,.01,.01],min:[0,0,0,0],max:[1,1,1,1],decimalPlaces:[2,2,2,2]};case"hsla":return{name:"hsl",factor:[1,.01,.01],min:[void 0,0,0],max:[void 0,1,1],mod:[360],decimalPlaces:[0,2,2]};case"hwba":return{name:"hwb",factor:[1,.01,.01],min:[void 0,0,0],max:[void 0,1,1],mod:[360],decimalPlaces:[0,2,2]};default:return null}}(e);if(r){var a=t.model[r.name],o=r.name.indexOf(e.name);if(!(o>=r.factor.length)){var i=a[o],c=He(t.keyState),l=Ye(i+e.change*r.factor[o]*c.factor,n(r.decimalPlaces,o)+c.requiredDecimalPlaces),u=n(r.min,o),s=n(r.max,o),d=n(r.mod,o);a[o]=function(e,t,n){var r=Ue(t)?Number.NEGATIVE_INFINITY:t,a=Ue(n)?Number.POSITIVE_INFINITY:n,o=Math.max(r,e);return Math.min(a,o)}(function(e,t){return t?e%t:e}(l,d),u,s),t.model.latest=r.name;var f=Je(t.model),h=Xe(t.model,f);return Ke(t.model,h),h}}}();t.updateColor(r)};var He=function(e){return e.altKey&&e.ctrlKey?{factor:.001,requiredDecimalPlaces:3}:e.altKey&&e.shiftKey?{factor:.01,requiredDecimalPlaces:2}:e.altKey?{factor:.1,requiredDecimalPlaces:1}:e.ctrlKey&&e.shiftKey?{factor:1e3,requiredDecimalPlaces:0}:e.ctrlKey?{factor:100,requiredDecimalPlaces:0}:e.shiftKey?{factor:10,requiredDecimalPlaces:0}:{factor:1,requiredDecimalPlaces:0}},Ke=function(e,t){Object.keys(e).filter((function(t){return t!==e.latest&&"latest"!==t})).forEach((function(n){switch(n){case"rgba":return $e(e,t.toRgb());case"cmyk":return Ze(e,t.toCmyk());case"hsla":return Qe(e,t.toHsl());case"hwba":return et(e,t.toHwb())}}))};function Ye(e,t){if(Ue(t))return e;var n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n}function Ue(e){return void 0===e||null===e}var _e=function(e){return Ye(100*e,2)+"%"},Ve=function(e){return""+Math.round(e)},Je=function(e){var t=e[e.latest];if(!t)return"";switch(e.latest){case"hwba":return"hwb("+Ve(t[0])+", "+_e(t[1])+", "+_e(t[2])+")";case"hsla":return"hsl("+Ve(t[0])+", "+_e(t[1])+", "+_e(t[2])+")";case"cmyk":return"cmyk("+_e(t[0])+", "+_e(t[1])+", "+_e(t[2])+", "+_e(t[3])+")";default:return"rgba("+Ve(t[0])+", "+Ve(t[1])+", "+Ve(t[2])+", "+t[3]+")"}},Xe=function(e,t){var n=new Pe(t);if("rgba"===e.latest||1===e.rgba[3])return n;var r=n.toRgb();return r.a=e.rgba[3],new Pe(r)},$e=function(e,t){e.rgba[0]=t.r,e.rgba[1]=t.g,e.rgba[2]=t.b,e.rgba[3]=t.a},Ze=function(e,t){e.cmyk[0]=t.c,e.cmyk[1]=t.m,e.cmyk[2]=t.y,e.cmyk[3]=t.k},Qe=function(e,t){e.hsla[0]=t.h,e.hsla[1]=t.s,e.hsla[2]=t.l},et=function(e,t){e.hwba[0]=t.h,e.hwba[1]=t.w,e.hwba[2]=t.b},tt=function(e){var t=function(e){var t={selectedColor:{key:"",value:null},model:{rgba:[0,0,0,1],cmyk:[0,0,0,0],hsla:[0,0,0],hwba:[0,0,0],latest:""},keyState:{shiftKey:!1,ctrlKey:!1,altKey:!1},updateColor:function(n){t.selectedColor.value=n,e.updateColor(t.selectedColor.key,n)},config:e.config};return t}(e),n=function(e){var t={throttle:new Be,id:"MIDIColorManager",config:e.config,onParameterChange:function(n){t.throttle.invokeWithAnimationFrame(ze,n,e)},onTouchStart:function(e){},onTouchEnd:function(e){},onAfterTouch:function(e){}};return t}(t),r=function(e){return function(t){return t.stopPropagation(),e.keyState.shiftKey=t.shiftKey,e.keyState.altKey=t.altKey,e.keyState.ctrlKey=t.ctrlKey,!1}}(t);return{selectColor:function(e,n){t.selectedColor.key=e,t.selectedColor.value=n},register:function(e){e.register(n),document.addEventListener("keydown",r,!1),document.addEventListener("keyup",r,!1)},unregister:function(e){e.unregister(n),document.removeEventListener("keydown",r,!1),document.removeEventListener("keyup",r,!1)}}};var nt={layout:"horizontal",rows:[[{type:"selector",name:"h",group:"hsla"},{type:"selector",name:"s",group:"hsla"},{type:"selector",name:"l",group:"hsla"},{type:"selector",name:"a",group:"hsla"},{type:"selector",name:"r",group:"rgba"},{type:"selector",name:"g",group:"rgba"},{type:"selector",name:"b",group:"rgba"},{type:"selector",name:"a",group:"rgba"}],[{type:"selector",name:"h",group:"hwba"},{type:"selector",name:"w",group:"hwba"},{type:"selector",name:"b",group:"hwba"},{type:"selector",name:"a",group:"hwba"},{type:"selector",name:"c",group:"cmyk"},{type:"selector",name:"m",group:"cmyk"},{type:"selector",name:"y",group:"cmyk"},{type:"selector",name:"k",group:"cmyk"}],[{type:"pad",name:void 0,channel:1,number:1},{type:"pad",name:void 0,channel:2,number:2},{type:"pad",name:void 0,channel:3,number:3},{type:"pad",name:void 0,channel:4,number:4},{type:"pad",name:void 0,channel:5,number:5},{type:"pad",name:void 0,channel:6,number:6},{type:"pad",name:void 0,channel:7,number:7},{type:"pad",name:void 0,channel:8,number:8}],[{type:"pad",name:void 0,channel:1,number:9},{type:"pad",name:void 0,channel:2,number:10},{type:"pad",name:void 0,channel:3,number:11},{type:"pad",name:void 0,channel:4,number:12},{type:"pad",name:void 0,channel:5,number:13},{type:"pad",name:void 0,channel:6,number:14},{type:"pad",name:void 0,channel:7,number:15},{type:"pad",name:void 0,channel:8,number:16}]],revision:1},rt=function(e){var t=e.palette,n=e.onSelect,r=Object.keys(t);return a.a.createElement(K,{marginTop:10},r.map((function(e){return a.a.createElement(at,{key:e,color:t[e],onClick:function(){return t=e,void(n&&n(t));var t}})})))},at=function(e){var t=e.color,n=t instanceof Pe?t.toHexString():t,r={height:"10vw",backgroundColor:t instanceof Pe?t.toHexString():t};return a.a.createElement(V,{css:r,onClick:function(){e.onClick&&e.onClick()}},n)},ot=["id","children","width","height","hideOriginal","initialState"],it=["idString","className","title","name","children","onLoad","onUnload"],ct=globalThis.localStorage,lt=a.a.createContext({detached:!1,role:"self"}),ut=Object(s.a)((function(e){return Object(d.a)({root:function(e){return e}})})),st={attached:{actionWord:"Detach",actionDescription:"Open in new window"},detached:{actionWord:"Reattach",actionDescription:"Reattach window"}},dt=function(e){var t=e.size||22,n=ut({transform:e.detached?"rotate(90deg)":"rotate(-90deg)",width:t,height:t});return a.a.createElement("div",{className:"detach-html-icon "+n.root},"\u21f2")},ft=function(e){var t=e.size||22,n=e.state,o=n?"detached":"attached",i=ut({position:"absolute",bottom:-22,right:0,"& .MuiIconButton-root":{padding:0}}),c=Object(r.useCallback)((function(t){e.onToggle&&e.onToggle(t)}),[]);return a.a.createElement("div",{className:i.root},a.a.createElement(f.a,{size:t<30?"small":"medium","aria-label":st[o].actionWord,title:st[o].actionDescription,onClick:function(){return c(!e.state)}},a.a.createElement(dt,{detached:n,size:t})))},ht=function(e){var t=e.id,n=e.width,o=e.height,i=y(e,ot),c=t?"detachable-"+t:null,l=Object(r.useState)((function(){return c&&"detached"===(ct&&ct.getItem(c))?"detached":"attached"})),u=l[0],s=l[1],d=function(e){c&&ct.setItem(c,e),s(e)},f="detached"===u,h=Object(r.useState)(),m=h[0],g=h[1],b=Object(r.useState)(),p=b[0],w=b[1],k=Object(r.useCallback)((function(){p&&p.close()}),[p]);Object(r.useEffect)((function(){return window.addEventListener("unload",k),function(){return window.removeEventListener("unload",k)}}),[k]),Object(r.useEffect)((function(){if(f){var e=null;if(c){var t=ct.getItem(c+".windowState");if(t)try{e=JSON.parse(t)}catch(r){}}return g(e||{width:n||window.screen.width/3,height:o||window.screen.height/3}),function(){k()}}}),[f,k]);var E=Object(r.useCallback)((function(e){var t=e?"detached":"attached";d(t),"attached"===t&&k()}),[u]),C=Object(r.useCallback)((function(t){w(t),e.onWindowLoad&&e.onWindowLoad(t)}),[]),M=Object(r.useCallback)((function(){d("attached"),g(null)}),[]),S=ut({position:"relative"}),x=f&&e.hideOriginal;return a.a.createElement(a.a.Fragment,null,!x&&a.a.createElement("div",{id:e.id,className:"detachable-container "+u+" "+S.root},a.a.createElement(lt.Provider,{value:{detached:f,role:"self"}},e.children),a.a.createElement(ft,{onToggle:E,state:f})),f&&m&&a.a.createElement(lt.Provider,{value:{detached:f,role:"surrogate"}},a.a.createElement(mt,v({idString:c},i,m,{onUnload:M,onLoad:C}),e.children)))},mt=function(e){var t=e.idString,n=e.name,o=e.children,c=e.onUnload,l=y(e,it),u=Object(r.useState)(),s=u[0],d=u[1],f=Object(r.useRef)({}).current;return Object(r.useEffect)((function(){var r=Object.entries(l).map((function(e){return function(e){var t=e[0],n=e[1];return t+"="+function(e){return"boolean"!==typeof e?e:!0===e?"yes":"no"}(n)}(e)})).join(", ");f.newWindow=window.open("",n||"",r);var a=function(){if(f.newWindow){var e=f.newWindow.document.createElement("div");f.newWindow.document.body.appendChild(e),function(e,t){var n=Array.from(t.styleSheets),r=n.filter((function(e){return Reflect.has(e,"cssRules")&&!e.href})),a=n.filter((function(e){return e.href&&e.href.indexOf("google")<0})),o=r.reduce((function(e,t){return e.concat(Array.from(t.cssRules))}),[]),i=e.createElement("style");o.forEach((function(t){return i.appendChild(e.createTextNode(t.cssText))})),e.head.appendChild(i),a.forEach((function(t){var n=e.createElement("link");n.rel="stylesheet",n.href=t.href,e.head.appendChild(n)}))}(f.newWindow.document,document),t=f.newWindow.document,n=document,Array.from(n.scripts).forEach((function(e){if(e.src.endsWith("main.chunk.js")){var n=t.createElement("script");n.src=e.src,t.body.appendChild(n)}})),gt(f.newWindow,document),d(e)}var t,n};!function n(){if(!f.newWindow||"complete"!==f.newWindow.document.readyState)return window.requestAnimationFrame(n);f.newWindow.addEventListener("unload",(function(){if(t){var e,n,r,a,o={top:Math.round(null===(e=f.newWindow)||void 0===e?void 0:e.screenY),left:Math.round(null===(n=f.newWindow)||void 0===n?void 0:n.screenX),width:Math.round(null===(r=f.newWindow)||void 0===r?void 0:r.innerWidth),height:Math.round(null===(a=f.newWindow)||void 0===a?void 0:a.innerHeight)};localStorage.setItem(t+".windowState",JSON.stringify(o))}c&&c()})),e.title&&(f.newWindow.document.title=e.title),a(),e.onLoad&&e.onLoad(f.newWindow)}()}),[]),s?i.a.createPortal(o,s):a.a.createElement("div",null)};var gt=function(e,t){var n=t.head;new MutationObserver((function(t,n){var r=e.document;t.forEach((function(e){e.addedNodes.forEach((function(e){if("STYLE"===e.nodeName&&e.sheet){var t=Array.from(e.sheet.cssRules),n=r.createElement("style");t.forEach((function(e){return n.appendChild(r.createTextNode(e.cssText))})),r.head.appendChild(n)}}))}))})).observe(n,{childList:!0})},bt=function e(t){var n=t.id,o=t.title,i=t.detachable,c=t._render,l=Object(r.useContext)(p),u=Object(r.useContext)(lt);if(i&&!c)return a.a.createElement(ht,{title:o||"Color Palette Editor",id:n},a.a.createElement(U,{padding:12},a.a.createElement(e,v({},t,{_render:!0}))));var s="surrogate"===u.role;if(i&&!s)return a.a.createElement(U,{inlineBlock:!0},o);var d=Object(r.useState)((function(){return t.palette})),f=d[0],h=d[1],m=Object(r.useState)((function(){return Object.keys(f)[0]})),g=m[0],b=m[1];Object(r.useEffect)((function(){return w.register(l),function(){return w.unregister(l)}}),[]);var y=Object(r.useCallback)((function(e,t){h((function(n){var r;return v({},n,((r={})[e]=t,r))}))}),[]),w=Object(r.useMemo)((function(){return tt({updateColor:y,config:nt})}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(De,null),a.a.createElement(rt,{palette:f,onSelect:function(e){w.selectColor(g,f[g]),b(e)}}))},pt=n(52),vt=n(12),yt=(n(117),n(118),n(119),n(67)),wt=function(){var e=Object(r.useState)({primaryColor:"royalblue",secondaryColor:"pink",danger:"red",background:"#eee",text:"#333"}),t=Object(yt.a)(e,2),n=t[0],o=t[1];return a.a.createElement(Re,null,a.a.createElement(c.d,null,a.a.createElement(c.a,null,a.a.createElement(kt,{palette:n})),a.a.createElement(c.a,null,a.a.createElement(bt,{id:"demo-detachable-color-palette-editor-with-midi-fast-refresh-and-auto-save",palette:n,onChange:function(e){o(e)},detachable:!0}))))},kt=function(e){e.palette;return a.a.createElement(c.a,null,a.a.createElement(c.b,null,"Header"),a.a.createElement(c.b,null,a.a.createElement("p",null,c.c.paragraphs(1))),a.a.createElement(c.b,null,a.a.createElement("button",null,"Primary"),a.a.createElement("button",null,"Secondary")))},Et=function(){return a.a.createElement(pt.a,null,a.a.createElement(c.d,null,a.a.createElement(c.a,{minWidth:"140px",padding:15},a.a.createElement(c.b,{sticky:!0,top:15},a.a.createElement("nav",null,a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(pt.b,{to:"/"},"Color Design")))))),a.a.createElement(c.a,{grow:!0,alignSelfStretch:!0,padding:15},a.a.createElement(Re,null,a.a.createElement(vt.c,null,a.a.createElement(vt.a,{path:"/"},a.a.createElement(wt,null)))))))};i.a.render(a.a.createElement(Et,null),document.getElementById("root"))},93:function(e,t,n){e.exports=n(124)}},[[93,1,2]]]);
//# sourceMappingURL=main.ccdda3ea.chunk.js.map